"use strict";console.log("GAME - Hit the mole");var hitTheMole={holes:document.querySelectorAll(".hole"),scoreBoard:document.querySelector(".score"),moles:document.querySelectorAll(".mole"),second:document.querySelector(".second"),lastHole:"",timeUp:!0,score:0,gameTime:5,lvl:{ease:{min:500,max:1e3},medium:{min:400,max:800},hard:{min:300,max:600}},activeLvl:{min:500,max:1e3},users:[],init:function(){hitTheMole.addBonkEvent(),hitTheMole.addTurnOffGOEvent(),hitTheMole.restartTime(),hitTheMole.addActiveEvent(),hitTheMole.makeObjectFromLocalStorage()},addBonkEvent:function(){hitTheMole.moles.forEach(function(e){e.addEventListener("click",hitTheMole.bonk)})},addTurnOffGOEvent:function(){document.querySelector(".gameOver").addEventListener("click",function(){this.classList.remove("showGO")})},addActiveEvent:function(){var t=document.querySelectorAll(".level .btn");t.forEach(function(e){e.addEventListener("click",function(){hitTheMole.timeUp&&(hitTheMole.removeActive(t),hitTheMole.changeLevel(e.dataset.lvl),this.classList.add("active"))})})},changeLevel:function(e){switch(e){case"easy":this.activeLvl.min=this.lvl.ease.min,this.activeLvl.max=this.lvl.ease.max;break;case"medium":this.activeLvl.min=this.lvl.medium.min,this.activeLvl.max=this.lvl.medium.max;break;case"hard":this.activeLvl.min=this.lvl.hard.min,this.activeLvl.max=this.lvl.hard.max}},removeActive:function(e){e.forEach(function(e){e.classList.remove("active")})},randomTime:function(e,t){return Math.round(Math.random()*(t-e)+e)},randomHole:function(e){var t=e[Math.floor(Math.random()*e.length)];return t===this.lastHole?this.randomHole(this.holes):this.lastHole=t},showMole:function(){var e=this.randomTime(hitTheMole.activeLvl.min,hitTheMole.activeLvl.max),t=this.randomHole(this.holes);t.classList.add("up"),setTimeout(function(){t.classList.remove("up"),hitTheMole.timeUp||hitTheMole.showMole()},e)},bonk:function(e){var t=e.target;e.isTrusted&&(t.classList.contains("hit")||hitTheMole.score++,t.classList.remove("up"),t.classList.add("hit"),setTimeout(function(){t.classList.remove("hit")},400),hitTheMole.scoreBoard.textContent=hitTheMole.score)},startGame:function(){hitTheMole.timeUp&&(document.querySelector("#login").value.length<2?hitTheMole.showError():(hitTheMole.scoreBoard.textContent=0,hitTheMole.timeUp=!1,hitTheMole.showMole(),hitTheMole.score=0,hitTheMole.timer()))},timer:function(){var e=this.gameTime,t=setInterval(function(){--e<10&&(e="0"+e);0==(hitTheMole.second.textContent=e)&&(hitTheMole.timeUp=!0,clearInterval(t),document.querySelector(".gameOver").classList.add("showGO"),hitTheMole.addingPlayerData(),hitTheMole.restartTime())},1e3)},restartTime:function(){hitTheMole.gameTime<10?hitTheMole.second.textContent="0"+this.gameTime:hitTheMole.second.textContent=this.gameTime},addingPlayerData:function(){var e={};e.name=document.querySelector("#login").value,e.score=document.querySelector(".score").textContent,hitTheMole.users.push(e),hitTheMole.generateRankingList(hitTheMole.users),hitTheMole.addingRankingToLocalStorage()},showError:function(){document.querySelector(".errorInput").classList.add("showError")},addingRankingToLocalStorage:function(){window.localStorage.setItem("HitTheMole",JSON.stringify(hitTheMole.users))},makeObjectFromLocalStorage:function(){for(var e=JSON.parse(window.localStorage.HitTheMole),t=0;t<e.length;t++){var o={};o.name=e[t].name,o.score=e[t].score,hitTheMole.users.push(o)}hitTheMole.generateRankingList(hitTheMole.users)},generateRankingList:function(e){var t=document.querySelector(".rankingList");t.innerHTML="";for(var o=0;o<e.length;o++){var i=document.createElement("div");i.classList.add("player"),i.innerHTML='<div class="numberOfranking">'+(o+1)+'</div>\n                 <div class="nameOfplayer">'+e[o].name+'</div>\n                 <div class="resultOfgame">'+e[o].score+"</div>",t.appendChild(i)}}};hitTheMole.init(),document.querySelector("#startGame").addEventListener("click",hitTheMole.startGame),console.log("test");