"use strict";var updateNews=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultSource;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://newsapi.org/v2/top-headlines?sources="+t+"&apiKey=a5d2366b77a64988a0760c5907de2488");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,main.innerHTML=r.articles.map(creatArticle).join("\n");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updateSources=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://newsapi.org/v2/sources?apiKey=a5d2366b77a64988a0760c5907de2488");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,sourceSelector.innerHTML=r.sources.map(createOption).join("\n");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();function _asyncToGenerator(e){return function(){var u=e.apply(this,arguments);return new Promise(function(o,c){return function n(e,r){try{var t=u[e](r),a=t.value}catch(e){return void c(e)}if(!t.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});o(a)}("next")})}}var apiKey="6f4fa5447bb24a2687edecc4c1df43b4",main=document.querySelector("main"),sourceSelector=document.querySelector("#sourceSelector"),defaultSource="national-geographic";function changeNews(){console.log(sourceSelector.value),updateNews(sourceSelector.value)}function creatArticle(e){return'\n    <div class="article">\n      <a href="'+e.url+'">\n        <h2>'+e.title+'</h2>\n        <img src="'+e.urlToImage+'" alt="'+e.title+'">\n        <p>'+e.description+"</p>\n      </a>\n    </div>\n    "}function createOption(e){return'<option value="'+e.id+'">'+e.name+"</options>"}window.addEventListener("load",function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return updateNews(),e.next=3,updateSources();case 3:sourceSelector.value=defaultSource,sourceSelector.addEventListener("change",changeNews);case 5:case"end":return e.stop()}},e,this)}));return function(e){return n.apply(this,arguments)}}());