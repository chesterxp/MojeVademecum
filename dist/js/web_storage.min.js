"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},supportOutput=document.querySelector("#support");function FormSaver(e){this.form=e,this.fields=this.form.querySelectorAll('input[name]:not([type="submit"])'),this.formID=this.form.getAttribute("id"),this.fieldsValues={},this.addSavingToFields=function(){for(var e=0;e<this.fields.length;e++)this.fields[e].onchange=this.saveField.bind(this)},this.saveField=function(e){var t=e.target;this.fieldsValues[t.getAttribute("name")]=t.value,this.saveToLocalStorage()},this.saveToLocalStorage=function(){window.localStorage.setItem(this.formID,JSON.stringify(this.fieldsValues))},this.loadFieldsValues=function(){var e=window.localStorage[this.formID];if(e)for(var t in e=JSON.parse(e))this.form.querySelector('[name="'+t+'"]').value=e[t]},this.clearLocalStorage=function(){window.localStorage.removeItem(this.formID)},this.loadFieldsValues(),this.addSavingToFields(),this.form.onsubmit=this.clearLocalStorage.bind(this)}if(void 0!==("undefined"==typeof Storage?"undefined":_typeof(Storage))?(supportOutput.innerHTML="Twoja przeglądarka wspiera Web Storage!",supportOutput.classList.add("wspiera")):(supportOutput.innerHTML="Twoja przeglądarka nie wspiera Web Storage!",supportOutput.classList.add("niewspiera")),"localStorage"in window)var formToSave=new FormSaver(document.querySelector("#form1")),formToSave2=new FormSaver(document.querySelector("#form2")),formToSave3=new FormSaver(document.querySelector("#form3"));